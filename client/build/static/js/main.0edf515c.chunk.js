(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),s=a.n(o),l=(a(91),a(1)),i=a(2),c=a(4),u=a(3),m=a(5),p=a(7),h=a(22),d=(a(92),a(40)),b=a.n(d),f=a(10),g=a.n(f),E=function(e){e?g.a.defaults.headers.common.Authorization=e:delete g.a.defaults.headers.common.Authorization},v=function(e){return{type:"SET_CURRENT_USER",payload:e}},O=function(){return function(e){localStorage.removeItem("jwtToken"),E(!1),e(v({}))}},N=a(8),w=a(20),y=a(81),j=a(11),S=a(115),T={isAuthenticated:!1,user:{},loading:!1},x={},k={stories:[],loading:!1},C={results:[],loading:!1},I={weights:[],loading:!1},_=Object(w.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(j.a)({},e,{isAuthenticated:!S(t.payload),user:t.payload});case"USER_LOADING":return Object(j.a)({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}},stories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETTING_STORIES":return Object(j.a)({},e,{loading:!0});case"GOT_STORIES":return Object(j.a)({},e,{stories:t.stories,loading:!1});case"FAILED_GETTING_STORIES":return Object(j.a)({},e,{loading:!1});default:return e}},photos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POSTING_PHOTOS":return Object(j.a)({},e,{loading:!0});case"POSTED_PHOTOS":return Object(j.a)({},e,{results:t.results,loading:!1});case"GETTING_PHOTOS":return Object(j.a)({},e,{loading:!0});case"GOT_PHOTOS":return Object(j.a)({},e,{results:t.results,loading:!1});default:return e}},weights:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETTING_WEIGHTS":return Object(j.a)({},e,{loading:!0});case"GOT_WEIGHTS":return Object(j.a)({},e,{weights:t.weights,loading:!1});case"FAILED_GETTING_WEIGHTS":return Object(j.a)({},e,{loading:!1});default:return e}}}),R=[y.a],G=Object(w.e)(_,{},Object(w.d)(w.a.apply(void 0,R))),D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar-fixed"},r.a.createElement("nav",{className:"z-depth-0"},r.a.createElement("div",{className:"nav-wrapper teal lighten-2"},r.a.createElement(p.b,{to:"/",className:"col s5 brand-logo center white-text"},r.a.createElement("i",{className:"fas fa-baby-carriage"}," Tiny Timelines ")),r.a.createElement("div",{className:"col s12 center-align blue-grey-text text-darken-4"},r.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",float:"right",marginTop:"4px",marginRight:"20px"},onClick:this.onLogoutClick,className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Logout")))))}}]),t}(n.Component),U=Object(N.b)(function(e){return{auth:e.auth}},function(e){return{logoutUser:function(){return e(O())}}})(D),F=(a(117),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"30vh"},className:"container valign-wrapper"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 center-align"},r.a.createElement("p",{className:"flow-text blue-grey-text text-darken-4"},"Privacy, safe storage, and fun features for you and your family!"),r.a.createElement("br",null),r.a.createElement("div",{className:"col s6"},r.a.createElement(p.b,{to:"/register",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large waves-effect waves-light hoverable teal lighten-2"},"Register")),r.a.createElement("div",{className:"col s6"},r.a.createElement(p.b,{to:"/login",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large waves-effect waves-light hoverable teal lighten-2"},"Log In")))))}}]),t}(n.Component)),W=a(26),A=a(16),P=a.n(A),L=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.setState(Object(W.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={firstName:e.state.firstName,lastName:e.state.lastName,babyName:e.state.babyName,email:e.state.email,password:e.state.password,password2:e.state.password2};console.log(a),e.props.registerUser(a,e.props.history)},e.state={firstName:"",lastName:"",babyName:"",email:"",password:"",password2:"",errors:{}},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s8 offset-s2"},r.a.createElement(p.b,{to:"/",className:"btn-flat waves-effect"},r.a.createElement("i",{className:"fas fa-arrow-left"})," Back to home"),r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("h4",null,r.a.createElement("b",null,"Register")," below"),r.a.createElement("p",{className:"grey-text text-darken-4"},"Already have an account? ",r.a.createElement(p.b,{to:"/login"},"Log in"))),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.firstName,error:e.firstName,id:"firstName",type:"text",className:P()("",{invalid:e.firstName})}),r.a.createElement("label",{htmlFor:"firstName",className:"blue-text text-darken-2"},r.a.createElement("b",null,"First Name")),r.a.createElement("span",{className:"red-text"},e.firstName)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.lastName,error:e.lastName,id:"lastName",type:"text",className:P()("",{invalid:e.lastName})}),r.a.createElement("label",{htmlFor:"lastName",className:"blue-text text-darken-2"},r.a.createElement("b",null,"Last Name")),r.a.createElement("span",{className:"red-text"},e.lastName)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.babyName,error:e.babyName,id:"babyName",type:"text",className:P()("",{invalid:e.babyName})}),r.a.createElement("label",{htmlFor:"babyName",className:"blue-text text-darken-2"},r.a.createElement("b",null,"Baby's First Name")),r.a.createElement("span",{className:"red-text"},e.babyName)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:P()("",{invalid:e.email})}),r.a.createElement("label",{htmlFor:"email",className:"blue-text text-darken-2"},r.a.createElement("b",null,"Email")),r.a.createElement("span",{className:"red-text"},e.email)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:P()("",{invalid:e.password})}),r.a.createElement("label",{htmlFor:"password",className:"blue-text text-darken-2"},r.a.createElement("b",null,"Password")),r.a.createElement("span",{className:"red-text"},e.password)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.password2,error:e.password2,id:"password2",type:"password",className:P()("",{invalid:e.password2})}),r.a.createElement("label",{htmlFor:"password2",className:"blue-text text-darken-2"},r.a.createElement("b",null,"Confirm Password")),r.a.createElement("span",{className:"red-text"},e.password2)),r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable teal lighten-2"},"Sign up"))))))}}]),t}(n.Component),M=Object(N.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){g.a.post("/api/users/register",e).then(function(e){return t.push("/login")}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(h.g)(L)),H=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.setState(Object(W.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};console.log(a),e.props.loginUser(a)},e.state={email:"",password:"",errors:{}},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/dashboard"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{style:{marginTop:"4rem"},className:"row"},r.a.createElement("div",{className:"col s8 offset-s2"},r.a.createElement(p.b,{to:"/",className:"btn-flat waves-effect"},r.a.createElement("i",{className:"fas fa-arrow-left"})," Back to home"),r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("h4",null,r.a.createElement("b",null,"Login")," below"),r.a.createElement("p",{className:"grey-text text-darken-4"},"Don't have an account? ",r.a.createElement(p.b,{to:"/register"},"Register"))),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:P()("",{invalid:e.email||e.emailnotfound})}),r.a.createElement("label",{htmlFor:"email",className:"blue-text text-darken-2"},r.a.createElement("b",null,"Email")),r.a.createElement("span",{className:"red-text"},e.email,e.emailnotfound)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:P()("",{invalid:e.password||e.passwordincorrect})}),r.a.createElement("label",{htmlFor:"password",className:"blue-text text-darken-2"},r.a.createElement("b",null,"Password")),r.a.createElement("span",{className:"red-text"},e.password,e.passwordincorrect)),r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable teal lighten-2"},"Login"))))))}}]),t}(n.Component),V=Object(N.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){console.log("UserData",e),g.a.post("/api/users/login",e).then(function(a){var n=a.data.token;localStorage.setItem("jwtToken",n),E(n);var r=b()(n);r.email=e.email,t(v(r))}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(H),B=a(83),Y=Object(N.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(B.a)(e,["component","auth"]);return r.a.createElement(h.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(h.a,{to:"/login"})}}))}),z=a(25),Q=a.n(z),J=(a(118),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"aside-navigation-container"},r.a.createElement("div",{className:"col s6"},r.a.createElement(p.b,{to:"/dashboard",className:"nav-btn btn btn-large waves-effect waves-light hoverable teal lighten-2"},"Home")),r.a.createElement("div",{className:"col s6"},r.a.createElement(p.b,{to:"/stories",className:"nav-btn btn btn-large waves-effect waves-light hoverable teal lighten-2"},"Stories")),r.a.createElement("div",{className:"col s6"},r.a.createElement(p.b,{to:"/photos",className:"nav-btn btn btn-large waves-effect waves-light hoverable teal lighten-2"},"Photos")),r.a.createElement("div",{className:"col s6"},r.a.createElement(p.b,{to:"/weights",className:"nav-btn btn btn-large waves-effect waves-light hoverable teal lighten-2"},"Weights")))}}]),t}(n.Component)),$=(a(119),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"two-column-container"},r.a.createElement("div",{className:"left-column"},r.a.createElement(J,null)),r.a.createElement("div",{className:"right-column"},this.props.children))}}]),t}(n.Component)),q=(a(120),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"title-section-container"},r.a.createElement("div",{className:"title-container"},r.a.createElement("h5",null,this.props.title)),r.a.createElement("div",{className:"content-container"},this.props.children))}}]),t}(n.Component)),K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).valueChange=function(e){a.setState({inputVal:e.target.value})},a.submitForm=function(){console.log("Clicked!",a.state.inputVal),a.props.onSubmit(a.state.inputVal),a.setState({inputVal:""})},a.state={inputVal:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"story-form-container"},r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Today...",onChange:this.valueChange,value:this.state.inputVal,style:{color:"rgba(1, 55, 105, 1)",fontSize:"20px"}})),r.a.createElement("div",null,r.a.createElement("button",{className:"btn",onClick:this.submitForm},"Submit")))}}]),t}(n.Component),X=a(84),Z=a.n(X),ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onImageChange=function(e){console.log("photo",e),a.setState({photos:e})},a.postPhotos=function(){console.log("Clicked!",a.state.photos),a.props.onSubmit(a.state.photos)},a.state={photos:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"image-upload-container"},r.a.createElement(Z.a,{withIcon:!0,buttonText:"Choose images",onChange:this.onImageChange,withPreview:!0,imgExtension:[".jpg",".gif",".png",".jpeg"],maxFileSize:5242880}),r.a.createElement("div",null,r.a.createElement("button",{className:"btn",onClick:this.postPhotos},"Submit")))}}]),t}(n.Component),te=(a(124),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).updateWeight=function(e){a.setState({weightVal:e.target.value})},a.submitWeight=function(){console.log("Clicked!",a.state.weightVal),a.props.onSubmit(a.state.weightVal),a.setState({weightVal:""})},a.state={weightVal:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"weight-entry-container"},r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Please use decimals. (9.06 = 9lbs 6oz)",onChange:this.updateWeight,value:this.state.weightVal,style:{color:"rgba(1, 55, 105, 1)",fontSize:"20px"}})),r.a.createElement("div",null,r.a.createElement("button",{className:"btn",onClick:this.submitWeight},"Submit")))}}]),t}(n.Component)),ae=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.storySubmit=function(e){console.log("Auth State",a.props.auth),a.props.submitForm(e,a.props.auth.user)},a.weightSubmit=function(e){console.log("Weight submitted!"),a.props.submitWeight(e,a.props.auth.user)},a.pictureSubmit=function(e){console.log("Dashboard callback",e);var t=new FormData;e.forEach(function(e,a){t.append(a,e)}),t.append("EMAIL",a.props.auth.user.email),t.append("date",Q()()),console.log("Form Data",t),fetch("/api/photos/post",{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){console.log("Success 2",e)}).catch(function(e){console.log("Error",e)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.auth.user;return console.log(e),r.a.createElement("div",null,r.a.createElement($,null,r.a.createElement(q,{title:"Welcome, "+e.firstName.split(" ")[0]+"!"}),r.a.createElement(q,{title:"What's new with "+e.babyName.split(" ")[0]+"?"},r.a.createElement(K,{onSubmit:this.storySubmit})),r.a.createElement(q,{title:"Photo Upload"},r.a.createElement(ee,{onSubmit:this.pictureSubmit})),r.a.createElement(q,{title:"Weight Entry"},r.a.createElement(te,{onSubmit:this.weightSubmit}))))}}]),t}(n.Component),ne=Object(N.b)(function(e){return{auth:e.auth}},function(e){return{logoutUser:function(){return e(O())},submitForm:function(t,a,n){return e(function(e,t){var a={email:t,story:e,date:Q()().format("MMMM Do YYYY")};return function(e){e({type:"SUBMIT_FORM_REQUEST"}),g.a.post("/api/forms/submit",a).then(function(t){console.log("Success!"),e({type:"FORM_REQUEST_SUBMITTED"})}).catch(function(t){console.log("Didn't work",t),e({type:"FORM_REQUEST_FAILED"})})}}(t,a.email))},submitWeight:function(t,a,n){return e(function(e,t){var a={email:t,weight:e,date:Q()().format("MMMM Do YYYY")};return function(e){e({type:"SUBMIT_WEIGHT_REQUEST"}),g.a.post("/api/weights/submit",a).then(function(t){console.log("Success!"),e({type:"WEIGHT_REQUEST_SUBMITTED"})}).catch(function(t){console.log("Didn't work",t),e({type:"WEIGHT_REQUEST_FAILED"})})}}(t,a.email))}}})(ae),re=(a(125),a(54));re.b.global.maintainAspectRatio=!1;var oe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.auth.user;this.props.getWeights(e.email)}},{key:"render",value:function(){var e=this.props.auth.user;console.log(e),console.log("weights: ",this.props.weights);var t={labels:this.props.weights.weights.map(function(e){return e.date}),datasets:[{label:e.babyName.split(" ")[0]+"'s weight",data:this.props.weights.weights.map(function(e){return e.weight}),fill:!1,borderColor:"rgba(237, 113, 138, 1)"}]};return r.a.createElement("div",null,r.a.createElement($,null,r.a.createElement(q,{title:e.babyName.split(" ")[0]+"'s growth over time"}),r.a.createElement("div",{className:"Chart"},r.a.createElement("article",{className:"canvas-container"},r.a.createElement(re.a,{data:t,height:500})))))}}]),t}(n.Component),se=Object(N.b)(function(e){return{auth:e.auth,weights:e.weights}},function(e){return{logoutUser:function(){return e(O())},getWeights:function(t){return e(function(e){var t={email:e};return function(e){e({type:"GETTING_WEIGHTS"}),g.a.post("/api/tracker/getall",t).then(function(t){console.log("Success!",t),e({type:"GOT_WEIGHTS",weights:t.data}),console.log("Success!")}).catch(function(t){console.log("Didn't work",t),e({type:"FAILED_GETTING_WEIGHTS"})})}}(t))}}})(oe),le=(a(216),a(217),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getPhotos(this.props.auth.user.email)}},{key:"render",value:function(){var e=this.props.auth.user;return console.log("Photos",this.props.photos),r.a.createElement("div",{className:"photos-container"},r.a.createElement($,null,r.a.createElement(q,{title:"Here are "+e.babyName.split(" ")[0]+"'s photos!"}),this.props.photos.results.map(function(e,t){return r.a.createElement("img",{src:e.url,key:t})})))}}]),t}(n.Component)),ie=Object(N.b)(function(e){return{auth:e.auth,photos:e.photos}},function(e){return{logoutUser:function(){return e(O())},getPhotos:function(t){return e(function(e){return function(t){t({type:"GETTING_PHOTOS"}),g.a.post("/api/photos/getall",{email:e}).then(function(e){console.log("Success!",e),t({type:"GOT_PHOTOS",results:e.data}),console.log("Success!")}).catch(function(e){console.log("Didn't work",e),t({type:"FAILED_GETTING_PHOTOS"})})}}(t))}}})(le),ce=(a(218),n.Component,function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"timeline-item"},r.a.createElement("div",{className:"timeline-item-content"},r.a.createElement("time",null,this.props.date),r.a.createElement("p",null,this.props.text),r.a.createElement("span",{className:"circle"})))}}]),t}(n.Component)),ue=(a(219),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return 0===this.props.data.length?null:r.a.createElement("div",{className:"timeline-container"},this.props.data.map(function(e,t){return r.a.createElement(ce,{date:e.date,text:e.text,key:t})}))}}]),t}(n.Component)),me=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.auth.user;this.props.getStories(e.email)}},{key:"render",value:function(){var e=this.props.auth.user;if(console.log(e),console.log("stories: ",this.props.stories),null===this.props.stories||0===this.props.stories.stories.length)return null;var t=[];return this.props.stories.stories.forEach(function(e){t.push({date:e.createDate,text:e.content})}),r.a.createElement("div",null,r.a.createElement($,null,r.a.createElement(q,{title:"Here are "+e.babyName.split(" ")[0]+"'s stories!"}),r.a.createElement(ue,{data:t})))}}]),t}(n.Component),pe=Object(N.b)(function(e){return{auth:e.auth,stories:e.stories}},function(e){return{logoutUser:function(){return e(O())},getStories:function(t){return e(function(e){var t={email:e};return function(e){e({type:"GETTING_STORIES"}),g.a.post("/api/stories/getall",t).then(function(t){console.log("Success!",t),e({type:"GOT_STORIES",stories:t.data}),console.log("Success!")}).catch(function(t){console.log("Didn't work",t),e({type:"FAILED_GETTING_STORIES"})})}}(t))}}})(me);if(localStorage.jwtToken){var he=localStorage.jwtToken;E(he);var de=b()(he);G.dispatch(v(de));var be=Date.now()/1e3;de.exp<be&&(G.dispatch(O()),window.location.href="./login")}var fe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(N.a,{store:G},r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(U,null),r.a.createElement(h.b,{exact:!0,path:"/",component:F}),r.a.createElement(h.b,{exact:!0,path:"/register",component:M}),r.a.createElement(h.b,{exact:!0,path:"/login",component:V}),r.a.createElement(h.d,null,r.a.createElement(Y,{exact:!0,path:"/dashboard",component:ne}),r.a.createElement(Y,{exact:!0,path:"/weights",component:se}),r.a.createElement(Y,{exact:!0,path:"/photos",component:ie}),r.a.createElement(Y,{exact:!0,path:"/stories",component:pe})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},86:function(e,t,a){e.exports=a(220)},91:function(e,t,a){},92:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.0edf515c.chunk.js.map